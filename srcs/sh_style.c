/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   sh_style.c                                         :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: mrandou <mrandou@student.42.fr>            +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2018/05/11 16:29:17 by mrandou           #+#    #+#             */
/*   Updated: 2018/07/18 14:38:00 by mrandou          ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "minishell.h"

void	sh_putheader(int style)
{
	if (!style)
	{
		ft_putendl("MINISHELL BASIC VERSION");
		ft_putbn();
		return ;
	}
	ft_putstr("\033[38;5;");
	ft_putnbr(sh_random());
	ft_putstr("mโโโโ   โโโโโโโโโโโ   โโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโ"
	"     โโโ     \nโโโโโ โโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโ "
	"    โโโ     \nโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโ "
	"    โโโ     \nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โโโ "
	"    โโโ     \nโโโ โโโ โโโโโโโโโ โโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโ"
	"โโโโโโโโโโโโโโ\nโโโ     โโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโ"
	"โโโโโโโโโโโโโโโโ\n              "
	"                                                     \033[0m\n\n");
}

int		sh_random(void)
{
	int		fd;
	int		nb;
	char	*buf;

	if (!(buf = ft_strdup("4")))
		return (-1);
	if ((fd = open("/dev/random", O_RDONLY)) == -1)
		return (-1);
	if ((read(fd, buf, 1)) == -1)
		return (-1);
	if (close(fd) == -1)
		return (-1);
	nb = buf[0];
	ft_strdel(&buf);
	nb = nb % 220;
	if (nb < 0)
		return (nb * -1);
	return (nb);
}

void	sh_putender(int style)
{
	if (!style)
		return ;
	ft_putbn();
	ft_mprintf("ss\n", "\n", "โคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโค"
	"โคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโคโค๐โคโคโคโคโคโบ\n", NULL);
	ft_putstr("\033[38;5;");
	ft_putnbr(sh_random());
	ft_putstr("m                              .-.            \n              "
		"                : :            \n"
		",-.,-.,-..--.  .--.  ,-.,-. .-' : .--."
		" .-..-.\n: ,. ,. :: ..'' .; ; : ,. :' .; :' .; :: :; :\n:_;:_;:_;:_;  "
		"`.__,_;:_;:_;`.__.'`.__.'`.__.'\n                                   "
		"          \033[0m\n");
}
